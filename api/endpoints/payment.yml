paymentMethod:
  name: complect-api-payment-method
  handler: src/functions/payment.method
  description: End point for Payment Method
  tags:
    website: Complect App
    type: API
    subtype: Dev
  events:
    - http:
        path: payment/method/{linkAccountId}
        method: post
        cors: true
    - http:
        path: payment/method/{linkAccountId}/{paymentId}
        method: get
        cors: true
    - http:
        path: payment/method/{linkAccountId}
        method: get
        cors: true
    - http:
        path: payment/method/{linkAccountId}/{paymentId}
        method: delete
        cors: true
  layers:
    - {Ref: BaseLibsLambdaLayer}
    - {Ref: PaymentLibsLambdaLayer}
    
stripeCustomer:
  name: complect-api-stripe-customer
  handler: src/functions/payment.customer
  description: End point for Stripe Customer
  tags:
    website: Complect App
    type: API
    subtype: Dev
  events:
    - http:
        path: payment/customer/{linkAccountIdCustomer}
        method: post
        cors: true
    - http:
        path: payment/customer/{linkAccountIdCustomer}
        method: put
        cors: true
    - http:
        path: payment/customer/{linkAccountIdCustomer}
        method: get
        cors: true
  layers:
    - {Ref: BaseLibsLambdaLayer}
    - {Ref: PaymentLibsLambdaLayer}

paymentSubscription:
  name: complect-api-payment-subscription
  handler: src/functions/payment.subscription
  description: Update Plan
  tags:
    website: Complect App
    type: API
    subtype: Dev
  events:
    - http:
        path: payment/subscription/{linkAccountIdSub}
        method: get
        cors: true
    - http:
        path: payment/subscription/{linkAccountIdSub}
        method: post
        cors: true
    - http:
        path: payment/subscription/{linkAccountIdSub}/{subId}
        method: delete
        cors: true
  layers:
    - {Ref: BaseLibsLambdaLayer}
    - {Ref: PaymentLibsLambdaLayer}
seatSubscription:
  name: complect-api-seat-subscription
  handler: src/functions/payment.seat
  description: Update Plan
  tags:
    website: Complect App
    type: API
    subtype: Dev
  events:
    - http:
        path: payment/seat/{linkAccountIdSeat}
        method: get
        cors: true
    - http:
        path: payment/seat/{linkAccountIdSeat}
        method: post
        cors: true
    - http:
        path: payment/seat/{linkAccountIdSeat}/{seatSubId}
        method: delete
        cors: true
  layers:
    - {Ref: BaseLibsLambdaLayer}
    - {Ref: PaymentLibsLambdaLayer}

oneTimePayment:
  name: complect-api-pay-project
  handler: src/functions/payment.pay
  description: Endpoint for Subscription
  tags:
    website: Complect App
    type: API
    subtype: Dev
  events:
    - http:
        path: payment/pay
        method: post
        cors: true
  layers:
    - {Ref: BaseLibsLambdaLayer}
    - {Ref: PaymentLibsLambdaLayer}
stripeBank:
  name: complect-api-stripe-bank
  handler: src/functions/payment.bank
  description: End point for Stripe Bank
  tags:
    website: Complect App
    type: API
    subtype: Dev
  events:
    - http:
        path: payment/bank
        method: post
        cors: true
  layers:
    - {Ref: BaseLibsLambdaLayer}
    - {Ref: PaymentLibsLambdaLayer}
stripeAccount:
  name: complect-api-stripe-account
  handler: src/functions/payment.account
  description: End point for Stripe Account
  tags:
    website: Complect App
    type: API
    subtype: Dev
  events:
    - http:
        path: payment/account
        method: post
        cors: true
  layers:
    - {Ref: BaseLibsLambdaLayer}
    - {Ref: PaymentLibsLambdaLayer}
getPromoCode:
  name: complect-api-promo-code
  handler: src/functions/payment.promocode
  description: End point for Promo Code
  tags:
    website: Complect App
    type: API
    subtype: Dev
  events:
    - http:
        path: payment/promocode
        method: post
        cors: true
  layers:
    - {Ref: BaseLibsLambdaLayer}
    - {Ref: PaymentLibsLambdaLayer}
createInvoice:
  name: complect-api-create-invoice
  handler: src/functions/payment.invoice
  description: End point for Invoice
  tags:
    website: Complect App
    type: API
    subtype: Dev
  events:
    - http:
        path: payment/invoice/{linkAccountIdInvoice}
        method: post
        cors: true
  layers:
    - {Ref: BaseLibsLambdaLayer}
    - {Ref: PaymentLibsLambdaLayer}
