fileUpload:
  name: ${opt:stage, 'dev'}-api--fileUpload
  handler: src/functions/download.upload
  description: API endpoint for File Upload
  memorySize: 2056
  timeout: 60
  tags:
    website: Complect App
    type: API
    subtype: Data
  layers:
    - {Ref: BaseLibsLambdaLayer}
    - {Ref: UploadLibsLambdaLayer}
  events:
    - http:
        path: /upload
        method: post
        cors: true

recordZipDownload:
  name: ${opt:stage, 'dev'}-api--recordZipDownload
  handler: src/functions/record.zipDownload
  description: API endpoint for Record Zip Download
  memorySize: 2056
  timeout: 60
  tags:
    website: Complect App
    type: API
    subtype: Data
  layers:
    - {Ref: BaseLibsLambdaLayer}
    - {Ref: UploadLibsLambdaLayer}
  events:
    - http:
        path: /records/zipDownload/{_id}
        method: get
        cors: true

recordMoveToDirs:
  name: ${opt:stage, 'dev'}-api--recordMoveToDirs
  handler: src/functions/record.moveToDirs
  description: API endpoint for Record Move To Directories
  memorySize: 2056
  timeout: 60
  tags:
    website: Complect App
    type: API
    subtype: Data
  layers:
    - {Ref: BaseLibsLambdaLayer}
    - {Ref: UploadLibsLambdaLayer}
  events:
    - http:
        path: /records/movetoDirs
        method: get
        cors: true
